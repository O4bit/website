@use "../../styles/queries";

.ProjectsGrid {
  display: grid;
  gap: var(--gap-small);
  max-width: 100%;
  grid-template-columns: repeat(3, minmax(0, 1fr));

  
  & > :last-child:nth-child(3n + 1) {
    grid-column: span 3;
  }
  & > :last-child:nth-child(3n + 2) {
    grid-column: span 2;
  }

  @media (max-width: 1100px) {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    & > :last-child:nth-child(2n + 1) {
      grid-column: span 2;
    }
  }

  @media (max-width: queries.$mw-mobile) {
    grid-template-columns: 1fr;
  }
}


.ProjectsGrid.Mosaic {
  /* Repeating 5-card set pattern over 6 columns:
     Row A: two wide cards (each spans 3 of 6)
     Row B: three standard cards (each spans 2 of 6)
     This block also includes last-row fill logic for incomplete sets. */
  grid-auto-flow: dense;
  grid-template-columns: repeat(6, minmax(0, 1fr));

  /* Base repeating pattern: 5n cycle */
  & > :nth-child(5n + 1),
  & > :nth-child(5n + 2) {
    grid-column: span 3;
  }
  & > :nth-child(5n + 3),
  & > :nth-child(5n + 4),
  & > :nth-child(5n + 5) {
    grid-column: span 2;
  }

  /* Incomplete set handling at the end (N mod 5): */
  /* 1 left: make it full width */
  & > :last-child:nth-child(5n + 1) {
    grid-column: 1 / -1;
  }
  /* 3 left: last one is alone on second row -> make it full width */
  & > :last-child:nth-child(5n + 3) {
    grid-column: 1 / -1;
  }
  /* 4 left: two items on second row -> make both half width like Row A */
  & > :nth-last-child(2):nth-child(5n + 3),
  & > :last-child:nth-child(5n + 4) {
    grid-column: span 3;
  }

  /* Tablet: simplify to 2 columns; base .ProjectsGrid rules handle last-row fill */
  @media (max-width: 1100px) {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  /* Mobile: single column */
  @media (max-width: queries.$mw-mobile) {
    grid-template-columns: 1fr;
  }
}

.SkillItem {
  flex: 1;

  & > .SkillContainer {
    --interaction-glow: var(--surface-highest);

    background-color: var(--surface-low);
    color: var(--neutral-high);
    border-radius: var(--radius-medium);
    padding: var(--gap-small);
    outline: var(--line-style) var(--surface-medium);

    text-decoration: none;
    white-space: nowrap;
    justify-content: center;

    &:where(:hover, :focus-visible) {
      background-color: var(--surface-medium);
      outline-color: var(--surface-high);
    }

    & > .SkillIcon {
      width: var(--size-relative-medium);
      height: var(--size-relative-medium);
      object-fit: contain;
    }
  }
}

.JSXHeadingStart,
.JSXHeadingEnd {
  font-size: 2.25rem;
  font-weight: var(--weight-bold);
  font-family: "JetBrains Mono", monospace;
  margin-block: 0;

  & > span:is(:first-child, :last-child) {
    user-select: none;
  }
}

.JSXHeadingStart {
  color: var(--neutral-highest);
}

.JSXHeadingEnd {
  user-select: none;
  color: var(--surface-medium);
}
